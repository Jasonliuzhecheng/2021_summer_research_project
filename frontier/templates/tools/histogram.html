<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Glucose Analyst</title>
    <link rel="stylesheet" href="/static/style.css">
    <script src="/static/jquery-3.4.1.min.js"></script>
    <script src="/static/echarts.js"></script>
</head>

<body background="/static/forest.jpg"
      style="background-repeat:no-repeat ;
    background-size:100% 100%;
    background-attachment: fixed;
    opacity: 70%;
    height: 600px;">
    <header>
        <h1 font-size=40px>Glucose Analyst: Type â…  diabetes analysis based on clinical data </h1>
        <ul class="NAV">
            <li id="Main" class="NAV"><a href="/glucose_analyst">Home</a></li>
            <li class="NAV"><a href="/glucose_analyst/about">About</a></li>
            <li class="NAV"><a href="/glucose_analyst/demo" rel="index">Demo</a></li>
        </ul>
    </header>

    <main>
        <span id="graph" d="{{data}}" title="{{title}}" x_label="{{x_label}}" style="display:none" ></span>
        <article id="box" style="width: 600px;height:500px;margin-left:400px; background-color: bisque ">
        </article>

        <script type="text/javascript">
            var js_data = document.getElementById('graph').getAttribute('d');
            var title=document.getElementById('graph').getAttribute('title');
            var x_label=document.getElementById('graph').getAttribute('x_label');
            var obj=eval("("+js_data+")")["data"];
            var min_value=eval("("+js_data+")")["min_value"];
            var values= [];
            var keys= [];


            for(var i in obj){
                keys.push(i);
                values.push(obj[i]);
            }

            var myChart = echarts.init(document.getElementById("box"));

            var option = {
                title: {
                    text: title
                },
                tooltip : {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        label: {
                            backgroundColor: '#617c85'
                        }
                    }
                },
                legend: {
                    x: 'right',
                    y: 'top',
                    type:'plain',
                    data: [x_label]
                },
                xAxis: {
                    data: keys
                },
                yAxis: {
                    min: min_value
                },
                series: [{
                    name: x_label,
                    type: 'bar',
                    data: values
                }],
                itemStyle:{
                    color:'#4181ff'
                }
            };

            myChart.setOption(option);
        </script>




    </main>
</body>

